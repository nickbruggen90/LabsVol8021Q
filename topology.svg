<svg viewBox="0 0 1200 800" xmlns="http://www.w3.org/2000/svg">
  <!-- Enhanced Styles and Gradients -->
  <defs>
    <!-- Gradients -->
    <linearGradient id="routerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#3b82f6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1e40af;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="serverGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#10b981;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#059669;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="clientGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f59e0b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#d97706;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="wanGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#8b5cf6;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#7c3aed;stop-opacity:1" />
    </linearGradient>
    
    <!-- Drop shadows -->
    <filter id="dropshadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="3" dy="3" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
    
    <!-- Glow effect -->
    <filter id="glow">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge> 
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <style>
      .device-box { fill: url(#routerGrad); stroke: #1e40af; stroke-width: 2; rx: 12; filter: url(#dropshadow); }
      .router-box { fill: url(#routerGrad); stroke: #1e40af; stroke-width: 2; rx: 12; filter: url(#dropshadow); }
      .server-box { fill: url(#serverGrad); stroke: #059669; stroke-width: 2; rx: 12; filter: url(#dropshadow); }
      .client-box { fill: url(#clientGrad); stroke: #d97706; stroke-width: 2; rx: 12; filter: url(#dropshadow); }
      .wan-cloud { fill: url(#wanGrad); stroke: #7c3aed; stroke-width: 3; filter: url(#dropshadow); }
      .connection { stroke: #4b5563; stroke-width: 3; fill: none; opacity: 0.8; }
      .wan-connection { stroke: #dc2626; stroke-width: 4; fill: none; filter: url(#glow); }
      .text-large { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 14px; font-weight: 600; fill: white; }
      .text-medium { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 12px; font-weight: 500; fill: white; }
      .text-small { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 10px; fill: #374151; font-weight: 500; }
      .ip-text { font-family: 'Consolas', 'Monaco', monospace; font-size: 10px; fill: rgba(255,255,255,0.9); font-weight: 500; }
      .label-text { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; font-size: 13px; font-weight: 600; fill: #1f2937; }
      .subnet-text { font-family: 'Consolas', 'Monaco', monospace; font-size: 11px; fill: #6b7280; font-weight: 500; }
    </style>
  </defs>

  <!-- Background -->
  <rect width="1200" height="800" fill="#f8fafc"/>

  <!-- WAN Cloud with enhanced styling -->
  <g class="wan-cloud">
    <!-- Cloud shape using multiple circles -->
    <circle cx="550" cy="130" r="25" fill="url(#wanGrad)" stroke="#7c3aed" stroke-width="2"/>
    <circle cx="580" cy="120" r="30" fill="url(#wanGrad)" stroke="#7c3aed" stroke-width="2"/>
    <circle cx="620" cy="120" r="30" fill="url(#wanGrad)" stroke="#7c3aed" stroke-width="2"/>
    <circle cx="650" cy="130" r="25" fill="url(#wanGrad)" stroke="#7c3aed" stroke-width="2"/>
    <circle cx="600" cy="100" r="20" fill="url(#wanGrad)" stroke="#7c3aed" stroke-width="2"/>
    <circle cx="580" cy="145" r="20" fill="url(#wanGrad)" stroke="#7c3aed" stroke-width="2"/>
    <circle cx="620" cy="145" r="20" fill="url(#wanGrad)" stroke="#7c3aed" stroke-width="2"/>
    <!-- Cloud body -->
    <ellipse cx="600" cy="125" rx="65" ry="30" fill="url(#wanGrad)" stroke="#7c3aed" stroke-width="2"/>
  </g>
  <text x="600" y="125" text-anchor="middle" class="text-large">WAN Network</text>
  <text x="600" y="140" text-anchor="middle" class="ip-text">Gateway: 192.168.19.2</text>

  <!-- Branch 1 pfSense -->
  <rect x="180" y="260" width="160" height="90" class="router-box"/>
  <!-- Firewall shield icon - above -->
  <g transform="translate(260, 225)">
    <!-- Shield shape -->
    <path d="M 0 5 Q 0 0 5 0 L 15 0 Q 20 0 20 5 L 20 15 Q 20 25 10 30 Q 0 25 0 15 Z" 
          fill="#374151" stroke="#1f2937" stroke-width="1" filter="url(#dropshadow)"/>
    <!-- Inner shield -->
    <path d="M 3 6 Q 3 3 6 3 L 14 3 Q 17 3 17 6 L 17 14 Q 17 21 10 25 Q 3 21 3 14 Z" 
          fill="#ef4444" opacity="0.8"/>
    <!-- Lock symbol -->
    <rect x="8" y="12" width="4" height="6" fill="white" rx="1"/>
    <path d="M 6 12 Q 6 9 10 9 Q 14 9 14 12" stroke="white" stroke-width="1.5" fill="none"/>
  </g>
  
  <text x="260" y="285" text-anchor="middle" class="text-large">pfSense Firewall</text>
  <text x="260" y="302" text-anchor="middle" class="text-medium">Branch Office 1</text>
  <text x="260" y="318" text-anchor="middle" class="ip-text">WAN: 192.168.19.129 (DHCP)</text>
  <text x="260" y="332" text-anchor="middle" class="ip-text">LAN: 192.168.83.226</text>

  <!-- Branch 2 pfSense -->
  <rect x="760" y="260" width="160" height="90" class="router-box"/>
  <!-- Firewall shield icon - above -->
  <g transform="translate(840, 225)">
    <!-- Shield shape -->
    <path d="M 0 5 Q 0 0 5 0 L 15 0 Q 20 0 20 5 L 20 15 Q 20 25 10 30 Q 0 25 0 15 Z" 
          fill="#374151" stroke="#1f2937" stroke-width="1" filter="url(#dropshadow)"/>
    <!-- Inner shield -->
    <path d="M 3 6 Q 3 3 6 3 L 14 3 Q 17 3 17 6 L 17 14 Q 17 21 10 25 Q 3 21 3 14 Z" 
          fill="#ef4444" opacity="0.8"/>
    <!-- Lock symbol -->
    <rect x="8" y="12" width="4" height="6" fill="white" rx="1"/>
    <path d="M 6 12 Q 6 9 10 9 Q 14 9 14 12" stroke="white" stroke-width="1.5" fill="none"/>
  </g>
  
  <text x="840" y="285" text-anchor="middle" class="text-large">pfSense Firewall</text>
  <text x="840" y="302" text-anchor="middle" class="text-medium">Branch Office 2</text>
  <text x="840" y="318" text-anchor="middle" class="ip-text">WAN: 192.168.19.128 (DHCP)</text>
  <text x="840" y="332" text-anchor="middle" class="ip-text">LAN: 192.168.84.226</text>

  <!-- Network Labels with styling -->
  <rect x="40" y="290" width="130" height="35" fill="#e2e8f0" stroke="#cbd5e1" stroke-width="2" rx="8" filter="url(#dropshadow)"/>
  <text x="105" y="305" text-anchor="middle" class="label-text">Branch 1 Network</text>
  <text x="105" y="315" text-anchor="middle" class="subnet-text">192.168.83.0/24</text>

  <rect x="950" y="290" width="130" height="35" fill="#e2e8f0" stroke="#cbd5e1" stroke-width="2" rx="8" filter="url(#dropshadow)"/>
  <text x="1015" y="305" text-anchor="middle" class="label-text">Branch 2 Network</text>
  <text x="1015" y="315" text-anchor="middle" class="subnet-text">192.168.84.0/24</text>

  <!-- Branch 1 Devices -->
  <!-- Windows Server 2025 (AD) -->
  <rect x="40" y="460" width="130" height="65" class="server-box"/>
  <!-- Server tower icon - above -->
  <g transform="translate(105, 430)">
    <!-- Server tower base -->
    <rect x="-12" y="0" width="24" height="28" fill="#374151" rx="3" filter="url(#dropshadow)"/>
    <!-- Server layers/drives -->
    <rect x="-10" y="2" width="20" height="4" fill="#10b981" opacity="0.8" rx="1"/>
    <rect x="-10" y="8" width="20" height="4" fill="#3b82f6" opacity="0.8" rx="1"/>
    <rect x="-10" y="14" width="20" height="4" fill="#10b981" opacity="0.8" rx="1"/>
    <rect x="-10" y="20" width="20" height="4" fill="#3b82f6" opacity="0.8" rx="1"/>
    <!-- Power LED -->
    <circle cx="0" cy="25" r="1.5" fill="#22c55e"/>
    <!-- Windows logo suggestion -->
    <rect x="-3" y="6" width="2" height="2" fill="white" opacity="0.9"/>
    <rect x="-1" y="6" width="2" height="2" fill="white" opacity="0.9"/>
    <rect x="-3" y="8" width="2" height="2" fill="white" opacity="0.9"/>
    <rect x="-1" y="8" width="2" height="2" fill="white" opacity="0.9"/>
  </g>
  
  <text x="105" y="485" text-anchor="middle" class="text-medium">Windows Server 2025</text>
  <text x="105" y="500" text-anchor="middle" class="text-medium">Active Directory</text>
  <text x="105" y="515" text-anchor="middle" class="ip-text">192.168.83.66</text>

  <!-- Ubuntu Server (rsyslog) -->
  <rect x="190" y="460" width="130" height="65" class="server-box"/>
  <!-- Tux penguin icon - moved right -->
  <g transform="translate(265, 435)">
    <!-- Tux body -->
    <ellipse cx="0" cy="2" rx="8" ry="12" fill="#2c3e50" filter="url(#dropshadow)"/>
    <!-- Tux belly -->
    <ellipse cx="0" cy="4" rx="5" ry="8" fill="#ecf0f1"/>
    <!-- Tux head -->
    <ellipse cx="0" cy="-8" rx="6" ry="7" fill="#2c3e50"/>
    <!-- Tux beak -->
    <ellipse cx="0" cy="-6" rx="2" ry="3" fill="#f39c12"/>
    <!-- Tux eyes -->
    <circle cx="-2" cy="-10" r="1.5" fill="white"/>
    <circle cx="2" cy="-10" r="1.5" fill="white"/>
    <circle cx="-2" cy="-10" r="0.8" fill="black"/>
    <circle cx="2" cy="-10" r="0.8" fill="black"/>
    <!-- Tux flippers/wings -->
    <ellipse cx="-6" cy="0" rx="2" ry="6" fill="#34495e" transform="rotate(-20 -6 0)"/>
    <ellipse cx="6" cy="0" rx="2" ry="6" fill="#34495e" transform="rotate(20 6 0)"/>
    <!-- Tux feet -->
    <ellipse cx="-3" cy="12" rx="2" ry="3" fill="#f39c12"/>
    <ellipse cx="3" cy="12" rx="2" ry="3" fill="#f39c12"/>
  </g>
  
  <text x="255" y="485" text-anchor="middle" class="text-medium">Ubuntu Server rsyslog</text>
  <text x="255" y="500" text-anchor="middle" class="ip-text">192.168.83.2</text>
  <text x="255" y="515" text-anchor="middle" class="ip-text">NetData :19999</text>

  <!-- Windows 10 Client -->
  <rect x="340" y="460" width="110" height="65" class="client-box"/>
  <!-- Classic Windows 95 logo icon - above -->
  <g transform="translate(395, 435)">
    <!-- Windows 95 waving flag -->
    <path d="M -10 -5 L -8 -8 L 8 -6 L 10 -3 L 8 0 L -8 -2 Z" 
          fill="#ff0000" stroke="#cc0000" stroke-width="0.5" filter="url(#dropshadow)"/>
    <path d="M -8 -2 L -6 -5 L 8 -3 L 10 0 L 8 3 L -6 1 Z" 
          fill="#00ff00" stroke="#00cc00" stroke-width="0.5"/>
    <path d="M -6 1 L -4 -2 L 8 0 L 10 3 L 8 6 L -4 4 Z" 
          fill="#0000ff" stroke="#0000cc" stroke-width="0.5"/>
    <path d="M -4 4 L -2 1 L 8 3 L 10 6 L 8 9 L -2 7 Z" 
          fill="#ffff00" stroke="#cccc00" stroke-width="0.5"/>
  </g>
  
  <text x="395" y="485" text-anchor="middle" class="text-medium">Windows 10</text>
  <text x="395" y="500" text-anchor="middle" class="text-medium">Desktop</text>
  <text x="395" y="515" text-anchor="middle" class="ip-text">192.168.83.98</text>

  <!-- Kali Client -->
  <rect x="40" y="550" width="110" height="65" class="client-box"/>
  <!-- Kali dragon icon - moved down -->
  <g transform="translate(95, 535)">
    <!-- Dragon head/body -->
    <path d="M -8 0 Q -10 -5 -5 -8 Q 0 -10 5 -8 Q 10 -5 8 0 Q 10 5 5 8 Q 0 10 -5 8 Q -10 5 -8 0 Z" 
          fill="#2c3e50" filter="url(#dropshadow)"/>
    <!-- Dragon inner -->
    <path d="M -6 0 Q -7 -3 -3 -5 Q 0 -6 3 -5 Q 7 -3 6 0 Q 7 3 3 5 Q 0 6 -3 5 Q -7 3 -6 0 Z" 
          fill="#e74c3c"/>
    <!-- Dragon eye -->
    <circle cx="0" cy="-2" r="2" fill="#f1c40f"/>
    <circle cx="0" cy="-2" r="1" fill="#c0392b"/>
    <!-- Dragon spikes/horns -->
    <path d="M -4 -8 L -2 -12 L 0 -8 Z" fill="#34495e"/>
    <path d="M 0 -8 L 2 -12 L 4 -8 Z" fill="#34495e"/>
    <!-- Dragon mouth/fangs -->
    <path d="M -2 2 L 0 6 L 2 2 Z" fill="white"/>
  </g>
  
  <text x="95" y="580" text-anchor="middle" class="text-medium">Kali Linux</text>
  <text x="95" y="595" text-anchor="middle" class="text-medium">Security Testing</text>
  <text x="95" y="605" text-anchor="middle" class="ip-text">192.168.83.34</text>

  <!-- Ubuntu Client 1 -->
  <rect x="170" y="550" width="110" height="65" class="client-box"/>
  <!-- Ubuntu circle logo icon - moved right -->
  <g transform="translate(235, 535)">
    <!-- Ubuntu circle of friends -->
    <circle cx="0" cy="0" r="10" fill="#e95420" filter="url(#dropshadow)"/>
    <!-- Three Ubuntu people/dots -->
    <circle cx="0" cy="-6" r="2" fill="#ffffff"/>
    <circle cx="-5" cy="3" r="2" fill="#ffffff"/>
    <circle cx="5" cy="3" r="2" fill="#ffffff"/>
    <!-- Connecting lines (circle of friends) -->
    <path d="M 0 -4 Q -3 0 -3 3" stroke="white" stroke-width="1" fill="none"/>
    <path d="M 0 -4 Q 3 0 3 3" stroke="white" stroke-width="1" fill="none"/>
    <path d="M -3 3 Q 0 6 3 3" stroke="white" stroke-width="1" fill="none"/>
  </g>
  
  <text x="225" y="580" text-anchor="middle" class="text-medium">Ubuntu Desktop</text>
  <text x="225" y="595" text-anchor="middle" class="text-medium">Client</text>
  <text x="225" y="605" text-anchor="middle" class="ip-text">192.168.83.35</text>

  <!-- Branch 2 Devices -->
  <!-- Ubuntu Client 2 -->
  <rect x="785" y="460" width="110" height="65" class="client-box"/>
  <!-- Ubuntu circle logo icon - moved right -->
  <g transform="translate(850, 445)">
    <!-- Ubuntu circle of friends -->
    <circle cx="0" cy="0" r="10" fill="#e95420" filter="url(#dropshadow)"/>
    <!-- Three Ubuntu people/dots -->
    <circle cx="0" cy="-6" r="2" fill="#ffffff"/>
    <circle cx="-5" cy="3" r="2" fill="#ffffff"/>
    <circle cx="5" cy="3" r="2" fill="#ffffff"/>
    <!-- Connecting lines (circle of friends) -->
    <path d="M 0 -4 Q -3 0 -3 3" stroke="white" stroke-width="1" fill="none"/>
    <path d="M 0 -4 Q 3 0 3 3" stroke="white" stroke-width="1" fill="none"/>
    <path d="M -3 3 Q 0 6 3 3" stroke="white" stroke-width="1" fill="none"/>
  </g>
  
  <text x="840" y="490" text-anchor="middle" class="text-medium">Ubuntu Desktop</text>
  <text x="840" y="505" text-anchor="middle" class="text-medium">Client</text>
  <text x="840" y="515" text-anchor="middle" class="ip-text">192.168.84.35</text>

  <!-- Enhanced Connections -->
  <line x1="600" y1="155" x2="260" y2="260" class="wan-connection"/>
  <line x1="600" y1="155" x2="840" y2="260" class="wan-connection"/>

  <!-- Branch 1 LAN Connections with curves -->
  <path d="M 260 350 Q 180 400 105 460" class="connection"/>
  <path d="M 260 350 Q 250 400 255 460" class="connection"/>
  <path d="M 260 350 Q 320 400 395 460" class="connection"/>
  <path d="M 260 350 Q 150 450 95 550" class="connection"/>
  <path d="M 260 350 Q 200 450 225 550" class="connection"/>

  <!-- Branch 2 LAN Connection -->
  <line x1="840" y1="350" x2="840" y2="460" class="connection"/>

  <!-- Enhanced Legend -->
  <rect x="50" y="650" width="350" height="130" fill="white" stroke="#e5e7eb" stroke-width="2" rx="12" filter="url(#dropshadow)"/>
  <text x="225" y="675" text-anchor="middle" class="label-text" style="font-size: 16px;">Network Legend</text>
  
  <!-- Legend items with improved styling -->
  <rect x="70" y="690" width="25" height="18" class="router-box"/>
  <text x="105" y="703" class="text-small" style="font-size: 12px;">pfSense Firewall/Router</text>
  
  <rect x="70" y="715" width="25" height="18" class="server-box"/>
  <text x="105" y="728" class="text-small" style="font-size: 12px;">Server Infrastructure</text>
  
  <rect x="70" y="740" width="25" height="18" class="client-box"/>
  <text x="105" y="753" class="text-small" style="font-size: 12px;">Client Workstation</text>
  
  <line x1="240" y1="705" x2="265" y2="705" stroke="#dc2626" stroke-width="4" fill="none"/>
  <text x="275" y="710" class="text-small" style="font-size: 12px;">WAN Connection</text>

  <line x1="240" y1="730" x2="265" y2="730" class="connection"/>
  <text x="275" y="735" class="text-small" style="font-size: 12px;">LAN Connection</text>

</svg>
